<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adopt Me Shop</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg: var(--tg-theme-bg-color, #ffffff);
            --text: var(--tg-theme-text-color, #222);
            --hint: var(--tg-theme-hint-color, #999);
            --button: var(--tg-theme-button-color, #3390ec);
        }
        body { font-family: sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; }
        .container { padding: 15px; padding-bottom: 80px; }
        
        /* –í–∫–ª–∞–¥–∫–∏ */
        .tab-content { display: none; }
        .active { display: block; }

        /* –ü—Ä–æ—Ñ–∏–ª—å */
        .profile-box { background: var(--tg-theme-secondary-bg-color, #f4f4f4); padding: 15px; border-radius: 12px; margin-bottom: 15px; }
        .lvl-badge { background: gold; color: black; padding: 2px 8px; border-radius: 5px; font-weight: bold; }

        /* –ú–∞–≥–∞–∑–∏–Ω */
        .item-card { border: 1px solid #ddd; padding: 10px; border-radius: 10px; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between; }
        .item-card img { width: 50px; height: 50px; border-radius: 5px; }

        /* –†—É–ª–µ—Ç–∫–∞ */
        .roulette-box { text-align: center; padding: 20px; border: 2px dashed var(--button); border-radius: 15px; }
        #roulette-result { font-size: 24px; margin: 15px 0; font-weight: bold; }

        /* –ö–Ω–æ–ø–∫–∏ */
        button { background: var(--button); color: white; border: none; padding: 10px 15px; border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold; }
        button:active { transform: scale(0.98); }

        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: var(--tg-theme-secondary-bg-color, #f4f4f4); display: flex; justify-content: space-around; padding: 10px 0; border-top: 1px solid #ccc; }
        .nav-item { cursor: pointer; font-size: 12px; text-align: center; color: var(--hint); }
        .nav-item.active-nav { color: var(--button); font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <div id="tab-profile" class="tab-content active">
        <div class="profile-box">
            <h2 id="user-name">–ò–≥—Ä–æ–∫</h2>
            <p>–£—Ä–æ–≤–µ–Ω—å: <span class="lvl-badge" id="lvl">1</span></p>
            <p>–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span> Robux</p>
        </div>
        <button onclick="getBonus()">üéÅ –ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å</button>
        <br><br>
        <button onclick="tg.openTelegramLink('https://t.me/—Ç–≤–æ–π_–Ω–∏–∫')">üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
    </div>

    <div id="tab-shop" class="tab-content">
        <h3>–ú–∞–≥–∞–∑–∏–Ω –ü–µ—Ç–æ–≤</h3>
        <div class="item-card">
            <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" alt="Pet">
            <div><b>Shadow Dragon</b><br>5000 R$</div>
            <button style="width: auto;" onclick="buy(5000)">–ö—É–ø–∏—Ç—å</button>
        </div>
        <div class="item-card">
            <img src="https://cdn-icons-png.flaticon.com/512/616/616430.png" alt="Pet">
            <div><b>Frost Fury</b><br>2500 R$</div>
            <button style="width: auto;" onclick="buy(2500)">–ö—É–ø–∏—Ç—å</button>
        </div>
    </div>

    <div id="tab-game" class="tab-content">
        <h3>–ò—Å–ø—ã—Ç–∞–π —É–¥–∞—á—É!</h3>
        <div class="roulette-box">
            <div id="roulette-result">üé∞ ???</div>
            <button onclick="spinRoulette()">–ö—Ä—É—Ç–∏—Ç—å –∑–∞ 100 R$</button>
        </div>
        <p style="color: var(--hint); font-size: 12px; margin-top: 10px;">–ú–æ–∂–Ω–æ –≤—ã–∏–≥—Ä–∞—Ç—å –¥–æ 1000 Robux!</p>
    </div>
</div>

<div class="nav-bar">
    <div class="nav-item active-nav" onclick="showTab('profile', this)">üë§ –ü—Ä–æ—Ñ–∏–ª—å</div>
    <div class="nav-item" onclick="showTab('shop', this)">üõí –ú–∞–≥–∞–∑–∏–Ω</div>
    <div class="nav-item" onclick="showTab('game', this)">üé∞ –†—É–ª–µ—Ç–∫–∞</div>
</div>

<script>
    let tg = window.Telegram.WebApp;
    tg.expand();

    let balance = 1000;
    let lvl = 1;

    if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
        document.getElementById('user-name').innerText = tg.initDataUnsafe.user.first_name;
    }

    function showTab(tabName, el) {
        document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active-nav'));
        document.getElementById('tab-' + tabName).classList.add('active');
        el.classList.add('active-nav');
    }

    function buy(price) {
        if (balance >= price) {
            balance -= price;
            lvl += 1;
            updateUI();
            tg.showAlert("–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –ø–æ–∫—É–ø–∫–æ–π!");
        } else {
            tg.showAlert("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ä–æ–±—É–∫—Å–æ–≤!");
        }
    }

    function getBonus() {
        balance += 50;
        updateUI();
        tg.showScanQrPopup({text: "–ë–æ–Ω—É—Å –ø–æ–ª—É—á–µ–Ω! +50 Robux"}); // –ü—Ä–æ—Å—Ç–æ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –∏–ª–∏ showAlert
        setTimeout(() => tg.closeScanQrPopup(), 2000);
    }

    function spinRoulette() {
        if (balance >= 100) {
            balance -= 100;
            const prizes = [0, 50, 100, 200, 500, 1000];
            const win = prizes[Math.floor(Math.random() * prizes.length)];
            balance += win;
            document.getElementById('roulette-result').innerText = "üéâ " + win + " R$";
            updateUI();
        } else {
            tg.showAlert("–ù—É–∂–Ω–æ —Ö–æ—Ç—è –±—ã 100 R$!");
        }
    }

    function updateUI() {
        document.getElementById('balance').innerText = balance;
        document.getElementById('lvl').innerText = lvl;
    }
</script>

</body>
</html>
